health-check:
  enable: true
  lazy: true
  timeout: 1500
  url: http://www.gstatic.com/generate_204
  
tcp-concurrent: false

proxy-providers:
  zapasList:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/ProxyWhiteList.yaml
    interval: 21600
    path: ./providers/zapasList.yaml

  WARP1List:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/WARP1.yaml
    interval: 21600
    path: ./providers/WARP1List.yaml    

  WARP2List:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/WARP2.yaml
    interval: 21600
    path: ./providers/WARP2List.yaml     

  WARP3List:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/WARP3.yaml
    interval: 21600
    path: ./providers/WARP3List.yaml    

  WARPFastList:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/WARPFast.yaml
    interval: 21600
    path: ./providers/WARPFastList.yaml      

proxy-groups:
  - name: VPN
    type: select
    interval: 600
    url: http://www.gstatic.com/generate_204
    icon: https://psv4.userapi.com/s/v1/d2/myYi0zo7FBs5-0OC_n9gCfGlX1fEp93vU1GXg092p-4eWEmkWcvSUKPOFtIPUL2Pbdreb4hSP5eZexSjQdK7wHda_MhypBmD-3Z_Z72m0_1K8iZ6o-BLXrIX3neC9lR-EpC2PJ8qPkqN/chebur.png
    proxies:
      - Fast If
      - WARP Fast
      - 1 WARP
      - 2 WARP
      - 3 WARP
      - Full WARP
      - zapas
    use:
      - WARP1List
      - WARP2List
      - WARP3List
      - WARPFastList

  - name: Fast If
    type: fallback
    hidden: true
    url: http://www.gstatic.com/generate_204
    proxies:
      - WARP Fast
      - zapas

  - name: Full WARP
    type: url-test
    tolerance: 60
    interval: 500
    hidden: true
    url: http://www.gstatic.com/generate_204
    proxies:
      - 1 WARP
      - 2 WARP
      - 3 WARP
      - WARP Fast

  - name: 1 WARP
    type: fallback
    interval: 400
    hidden: true
    url: http://www.gstatic.com/generate_204
    use:
      - WARP1List
      
  - name: 2 WARP
    type: fallback
    interval: 400
    hidden: true
    url: http://www.gstatic.com/generate_204
    use:
      - WARP2List

  - name: 3 WARP
    type: fallback
    interval: 400
    hidden: true
    url: http://www.gstatic.com/generate_204
    use:
      - WARP3List

  - name: WARP Fast
    type: fallback
    interval: 400
    hidden: true
    url: http://www.gstatic.com/generate_204
    use:
      - WARPFastList
 
  - name: zapas
    type: url-test
    tolerance: 200
    interval: 120
    url: http://www.gstatic.com/generate_204
    icon: https://psv4.userapi.com/s/v1/d2/JzoTqn_sF-pyaVhhfrdzgNO9UJZPAHOkiY0Qtp-56c-j_TXwNjNgXaNKolcUOHEUHMnuQxWB1s8RWl9UlkD0rMpiFZVuyVx0dgPEurn2yOjdDppkKpLS3wXzAyx-7i2tqdZS2mtdRwJE/TsrsheuDshye.png
    use:
      - 'zapasList'

rule-providers:
  RulesZapas:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/RulesZapas.yaml
    path: ./rules/RulesZapas.yaml
    interval: 21600

  RulesVPN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/RulesVPN.yaml
    path: ./rules/RulesVPN.yaml
    interval: 21600
 
  RulesDIRECT:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/RulesDirect.yaml
    path: ./rules/RulesDIRECT.yaml
    interval: 21600
  
  RulesVPNexe:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/rulesVPNexe.yaml
    path: ./rules/RulesVPNexe.yaml
    interval: 21600  

rules:
  - PROCESS-NAME,discord.exe,VPN
  - RULE-SET,RulesDIRECT,DIRECT
  - RULE-SET,RulesZapas,zapas
  - RULE-SET,RulesVPN,VPN
  - RULE-SET,RulesVPNexe,VPN
