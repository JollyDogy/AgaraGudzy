health-check:
  enable: true
  lazy: true
  timeout: 1500
  url: http://www.gstatic.com/generate_204
  
tcp-concurrent: false

proxy-providers:
  zapasList:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/ProxyWhiteList.yaml
    interval: 21600
    path: ./providers/zapasList.yaml

  WARP1List:
    type: http
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/WARP1.yaml
    interval: 21600
    path: ./providers/WARP1List.yaml    

proxy-groups:
  - name: VPN
    type: select
    interval: 90
    url: http://speed.cloudflare.com/
    proxies:
      - Full
      - WhiteList
      - 1 WARP

  - name: Full
    type: fallback
    tolerance: 90
    hidden: true
    url: http://speed.cloudflare.com/
    proxies:
      - 1 WARP
      - WhiteList

  - name: 1 WARP
    type: fallback
    interval: 300
    hidden: true
    url: http://speed.cloudflare.com/
    use:
      - WARP1List
 
  - name: WhiteList
    type: url-test
    tolerance: 200
    interval: 120
    url: http://speed.cloudflare.com/
    use:
      - 'zapasList'

rule-providers:
  RulesDIRECT:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/JollyDogy/AgaraGudzy/refs/heads/main/RulesDirect.yaml
    path: ./rules/RulesDIRECT.yaml
    interval: 21600

rules:
  - RULE-SET,RulesDIRECT,DIRECT
  - MATCH,VPN
